"use strict";(self.webpackChunksrc=self.webpackChunksrc||[]).push([[5128],{3905:(t,e,n)=>{n.d(e,{Zo:()=>l,kt:()=>d});var o=n(7294);function a(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,o)}return n}function s(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?r(Object(n),!0).forEach((function(e){a(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}function p(t,e){if(null==t)return{};var n,o,a=function(t,e){if(null==t)return{};var n,o,a={},r=Object.keys(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||(a[n]=t[n]);return a}(t,e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);for(o=0;o<r.length;o++)n=r[o],e.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(t,n)&&(a[n]=t[n])}return a}var i=o.createContext({}),c=function(t){var e=o.useContext(i),n=e;return t&&(n="function"==typeof t?t(e):s(s({},e),t)),n},l=function(t){var e=c(t.components);return o.createElement(i.Provider,{value:e},t.children)},u={inlineCode:"code",wrapper:function(t){var e=t.children;return o.createElement(o.Fragment,{},e)}},m=o.forwardRef((function(t,e){var n=t.components,a=t.mdxType,r=t.originalType,i=t.parentName,l=p(t,["components","mdxType","originalType","parentName"]),m=c(n),d=a,x=m["".concat(i,".").concat(d)]||m[d]||u[d]||r;return n?o.createElement(x,s(s({ref:e},l),{},{components:n})):o.createElement(x,s({ref:e},l))}));function d(t,e){var n=arguments,a=e&&e.mdxType;if("string"==typeof t||a){var r=n.length,s=new Array(r);s[0]=m;var p={};for(var i in e)hasOwnProperty.call(e,i)&&(p[i]=e[i]);p.originalType=t,p.mdxType="string"==typeof t?t:a,s[1]=p;for(var c=2;c<r;c++)s[c]=n[c];return o.createElement.apply(null,s)}return o.createElement.apply(null,n)}m.displayName="MDXCreateElement"},8212:(t,e,n)=>{n.r(e),n.d(e,{assets:()=>i,contentTitle:()=>s,default:()=>u,frontMatter:()=>r,metadata:()=>p,toc:()=>c});var o=n(7462),a=(n(7294),n(3905));const r={sidebar_position:37},s="Context in React",p={unversionedId:"Context-by-Manju-",id:"Context-by-Manju-",title:"Context in React",description:"\ud83e\udd14 Why we use Context?",source:"@site/docs/28-Context-by-Manju-.md",sourceDirName:".",slug:"/Context-by-Manju-",permalink:"/react-basic-study-202103/docs/Context-by-Manju-",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/28-Context-by-Manju-.md",tags:[],version:"current",sidebarPosition:37,frontMatter:{sidebar_position:37},sidebar:"tutorialSidebar",previous:{title:"28-Context",permalink:"/react-basic-study-202103/docs/Context--by-Juno-"},next:{title:"29-React-Router",permalink:"/react-basic-study-202103/docs/React-Router--by-Juno-"}},i={},c=[{value:"\ud83e\udd14 Why we use Context?",id:"-why-we-use-context",level:2},{value:"\ud83e\udd14 How to use Context",id:"-how-to-use-context",level:2},{value:"\ud83d\udc40 Example(To do List)",id:"-exampleto-do-list",level:3},{value:"\ud83e\udd14 How to use Context with API",id:"-how-to-use-context-with-api",level:2}],l={toc:c};function u(t){let{components:e,...n}=t;return(0,a.kt)("wrapper",(0,o.Z)({},l,n,{components:e,mdxType:"MDXLayout"}),(0,a.kt)("h1",{id:"context-in-react"},"Context in React"),(0,a.kt)("h2",{id:"-why-we-use-context"},"\ud83e\udd14 Why we use Context?"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/75834421/113876415-b2a57600-97f2-11eb-9ad2-c58671115b0a.png",alt:"image"})),(0,a.kt)("p",null,"React\ub294 \uc6d0\ub798\ubd80\ud130 component\ub85c \uc798\uac8c \ucabc\uac1c\uc11c \ud558\ub098\uc758 \ud070 \uc5b4\ud50c\ub9ac\ucf00\uc774\uc158\uc744 \uc744 \ub9cc\ub4e4 \uc218 \uc788\ub294 Library(\ud639\uc740 Framwork..?) \uc785\ub2c8\ub2e4. \uc704\uc758 \uadf8\ub9bc \ucc98\ub7fc, \uac01\uac01\uc758 component\uc5d0 \uacf5\ud1b5\uc801\uc778 state\uac00 \ud544\uc694\ud560 \ub54c \ubaa8\ub4e0 components\ub97c \ud3ec\ud568\ud558\ub294 \uc544\uc8fc \ud070! super big component\uc73c\ub85c \uc2f8\uc11c \uad00\ub9ac\ud558\uba74 \ub429\ub2c8\ub2e4!"),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/75834421/113877433-aa9a0600-97f3-11eb-895d-3aea71fb588c.png",alt:"image"})),(0,a.kt)("p",null,"\uadf8\ub7fc \uc774\ub807\uac8c \uae4a\uac8c component\uac00 \uad6c\uc131\ub418\uc5b4 \uc788\uc744 \ub550 \uc5b4\ub5bb\uac8c \ud574\uc57c \ud560\uae4c\uc694?\ubcf4\ud1b5 \ubd80\ubaa8 component\uc5d0\uc11c \uc815\uc758\ud55c state\ub97c \uc790\uc2dd component\uc5d0\uc11c\ub3c4 \uc0ac\uc6a9\ud558\uae30 \uc704\ud574\uc120 props\ub85c \uc804\ub2ec\ud574 \uc8fc\uc5b4\uc57c\ud569\ub2c8\ub2e4. big component(\ud30c\ub780\uc0c9) \uc5d0\uc11c \uc815\uc758\ud55c \uc0c1\ud0dc\ub97c \uc8fc\ud669\uc0c9 \ub3d9\uadf8\ub77c\ubbf8\uc5d0\uc11c \uc4f0\ub824\uba74 \ub108\ubb34\ub098 \ub9ce\uc740, props \uc804\ub2ec \ub9cc\uc744 \uc704\ud55c component\ub4e4\uc774 \ud544\uc694\ud574\uc9d1\ub2c8\ub2e4!! \uc5ec\uae30\uc11c \ud544\uc694\ud55c\uac8c \ubc14\ub85c ",(0,a.kt)("strong",{parentName:"p"},"Context"),"\uc785\ub2c8\ub2e4."),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/75834421/113878246-652a0880-97f4-11eb-952f-b90aa413528a.png",alt:"image"})),(0,a.kt)("p",null,"\uac01 component\uc5d0 \ud544\uc694\ud55c state(data) \ub4e4\uc744 \ud55c \uacf3\uc5d0 \ubaa8\uc544\ub450\uace0, \ud544\uc694\ud560 \ub54c\ub9c8\ub2e4 \ubd88\ub7ec\uc624\uace0, \uc0ac\uc6a9\ud558\ub294 component\uc548\uc5d0\uc11c \uc0c8\ub85c\uc6b4 \uc0c1\ud0dc\ub85c \ub300\uccb4\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc774\ub807\uac8c React\uc5d0\uc11c ",(0,a.kt)("strong",{parentName:"p"},"state managemen\ub97c \uac00\ub2a5\ud558\uac8c \ud574\uc8fc\ub294 \uac83\uc774\n",(0,a.kt)("inlineCode",{parentName:"strong"},"Context")),"\ub77c\uace0 \ud560\uc218 \uc788\uc2b5\ub2c8\ub2e4."),(0,a.kt)("h2",{id:"-how-to-use-context"},"\ud83e\udd14 How to use Context"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},(0,a.kt)("strong",{parentName:"p"},"Context\uc640 \uc790\uc8fc \uac19\uc774 \uc4f0\uc774\ub294 useReducer!")),(0,a.kt)("p",{parentName:"blockquote"},"\uac00\uc7a5 \ub9ce\uc774 \uc4f0\uc774\uace0 \uc720\uba85\ud55c useState\ub300\uc2e0\uc5d0 useReducer\uc744 \uc4f4\ub2e4\ub294 \uac74 \uadf8\ub9cc\ud07c \uad00\ub9ac\ud574\uc57c\ud558\uace0 \uc0ac\uc6a9\ud558\ub294 state\uac00 \ub9ce\ub2e4\ub294 \uc758\ubbf8\uc785\ub2c8\ub2e4. \uc989, \ub9ce\uc740 state\ub97c \ud55c \uacf3\uc5d0\uc11c \ud3b8\ud558\uac8c \uad00\ub9ac \ud560 \uc218 \uc788\ub294 Context\uc640 \uac19\uc774 \uc4f0\uba74 \ub9e4\uc6b0 \ud3b8\ub9ac\ud569\ub2c8\ub2e4!!"),(0,a.kt)("ul",{parentName:"blockquote"},(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"p"},"reducer")," function : reducer function\uc5d0\uc11c \ubc18\ud658\ub418\ub294 object\uac00 \uc0c8\ub85c\uc6b4 state\ub85c\uc11c\uc758 object\ub85c ",(0,a.kt)("strong",{parentName:"p"},"\ub300\ucc44"),"\ub429\ub2c8\ub2e4.")),(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},(0,a.kt)("inlineCode",{parentName:"p"},"dispatch")," : reducer function\uc774 state\uc640 action\uc744 \uac00\uc9c0\uace0 \ub2e4\uc2dc(\uc0c8\ub86d\uac8c) \uc2e4\ud589\ud558\uac8c \ub054 \ub9cc\ub4e4\uc5b4 \uc90d\ub2c8\ub2e4! (=> \uc774\ub85c \uc778\ud574 \uc2e4\ud589\ub418\ub294 reducer\ud568\uc218\uc758 return \uac12\uc774 state\ub85c \ub300\ucc44\ub418\ub294 \uac83!!)")))),(0,a.kt)("h3",{id:"-exampleto-do-list"},"\ud83d\udc40 Example(To do List)"),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Context\ub97c \uc0dd\uc131\ud558\ub294 component"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},'import React, { createContext, useReducer, useContext } from "react";\nimport reducer, { initialState } from "./reducer";\n\n// todolist\ub97c \ub9cc\ub4e4\uae30 \uc704\ud55c data box = context \ub9cc\ub4e4\uae30\nconst ToDosContext = createContext();\n\nconst ToDosProvider = ({ children }) => {\n  // dispatch\uc640 reducer\ub85c state\ub97c \uad00\ub9ac\ud560 useReducer\n  const [state, dispatch] = useReducer(reducer, initialState);\n  return (\n    <ToDosContext.Provider value={{ state, dispatch }}>\n      {children}\n    </ToDosContext.Provider>\n  );\n};\n\n// useDispatch\uc640 useState\ub97c \uc0ac\uc6a9\ud574\uc11c \ub2e4\ub978 component\uc5d0\uc11c\n// TodoContext\uc5d0 \uc788\ub294 state\ub098 dispatch\ub97c \uc0ac\uc6a9\ud558\uae30\nexport const useDispatch = () => {\n  const { dispatch } = useContext(ToDosContext);\n  return dispatch;\n};\n\nexport const useState = () => {\n  const { state } = useContext(ToDosContext);\n  return state;\n};\n\nexport default ToDosProvider;\n')))),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"\uc0c8\ub85c\uc6b4 \uc0c1\ud0dc\ub97c \ubc18\ud658\ud574\uc904 reducer function"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},'import uuid from "uuid/v4";\nimport { ADD, COMPLETE, DEL, UNCOMPLETE } from "./actions";\n\nexport const initialState = {\n  toDos: [],\n  completed: [],\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case ADD:\n      return {\n        ...state,\n        toDos: [...state.toDos, { text: action.payload, id: uuid() }],\n      };\n    case DEL:\n      return {\n        ...state,\n        toDos: state.toDos.filter((toDo) => toDo.id !== action.payload),\n      };\n    case COMPLETE:\n      const target = state.toDos.find((toDo) => toDo.id === action.payload);\n      return {\n        ...state,\n        toDos: state.toDos.filter((toDo) => toDo.id !== action.payload),\n        completed: [...state.completed, { ...target }],\n      };\n    case UNCOMPLETE:\n      const aTarget = state.completed.find(\n        (toDo) => toDo.id === action.payload\n      );\n      return {\n        ...state,\n        completed: state.completed.filter(\n          (toDo) => toDo.id !== action.payload\n        ),\n        toDos: [...state.toDos, { ...aTarget }],\n      };\n\n    default:\n      return;\n  }\n};\n')))),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Context\uc5d0\uc11c state\ub97c \uac00\uc838\ub2e4 \uc4f0\ub294 App.js"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},'import React from "react";\nimport { useState } from "../context";\nimport Add from "./Add";\nimport List from "./List";\nimport ToDo from "./ToDo";\n\n//useState\ub85c toDos\uc640 completed\ub97c \uc815\uc758\ud568\uc73c\ub85c\uc11c\n//context(data box)\uc548\uc5d0 \uc815\uc758\ub418\uc5b4 \uc788\ub294 state = { toDos, completed} \ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\uc74c!\nfunction App() {\n  const { toDos, completed } = useState();\n  return (\n    <>\n      <Add />\n      <List name={"To Do"}>\n        {toDos.map((toDo) => (\n          <ToDo key={toDo.id} id={toDo.id} text={toDo.text} />\n        ))}\n      </List>\n\n      <List name={completed.length !== 0 ? "Completed" : ""}>\n        {completed.map((toDo) => (\n          <ToDo\n            key={toDo.id}\n            id={toDo.id}\n            text={toDo.text}\n            isCompleted={true}\n          />\n        ))}\n      </List>\n    </>\n  );\n}\n\nexport default App;\n')))),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Context\uc5d0\uc11c dispatch\ub97c \uac00\uc838\ub2e4 \uc4f0\ub294 ToDo.js"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},'import { COMPLETE, DEL, UNCOMPLETE } from "../actions";\nimport { useDispatch } from "../context";\n\nconst ToDo = ({ text, id, isCompleted }) => {\n  const dispatch = useDispatch();\n  return (\n    <li>\n      <span>{text}</span>\n      <span\n        role="img"\n        aria-label=""\n        onClick={() => dispatch({ type: DEL, payload: id })}\n      >\n        \u274c\n      </span>\n      <span\n        role="img"\n        aria-label=""\n        onClick={() =>\n          dispatch({ type: isCompleted ? UNCOMPLETE : COMPLETE, payload: id })\n        }\n      >\n        {isCompleted ? " \ud83d\ude45\ud83c\udffc\u200d\u2642\ufe0f" : "\u2705"}\n      </span>\n    </li>\n  );\n};\n\nexport default ToDo;\n')))),(0,a.kt)("ul",null,(0,a.kt)("li",{parentName:"ul"},(0,a.kt)("p",{parentName:"li"},"Provider\ub85c App component \uac10\uc2f8\uc8fc\uae30! (",(0,a.kt)("inlineCode",{parentName:"p"},"\uc774 App component\uc5d0\uc11c \ub0b4\uac00 \uc815\uc758\ud55c TodoContext\ub77c\ub294 data box\ub97c \uc0ac\uc6a9\ud560 \uc218 \uc788\ub2e4"),"\uc758 \uc758\ubbf8)"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},'import React from "react";\nimport ReactDOM from "react-dom";\nimport App from "./components/App";\nimport ToDosProvider from "./context";\n\nReactDOM.render(\n  <ToDosProvider>\n    <App />\n  </ToDosProvider>,\n  document.getElementById("root")\n);\n')))),(0,a.kt)("h2",{id:"-how-to-use-context-with-api"},"\ud83e\udd14 How to use Context with API"),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Context\ub97c \uc0ac\uc6a9\ud558\uae30 \uc704\ud55c \uc900\ube44!(Context\ub9cc\ub4e4\uae30)"),(0,a.kt)("p",{parentName:"li"},(0,a.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/75834421/113894839-59920e00-9803-11eb-9540-7ee8bef0ff73.png",alt:"image"})),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},'// State \uc6a9 Context \uc640 Dispatch \uc6a9 Context \ub530\ub85c \ub9cc\ub4e4\uc5b4\uc8fc\uae30\nconst UsersStateContext = createContext(null);\nconst UsersDispatchContext = createContext(null);\n\n// \uc704\uc5d0\uc11c \uc120\uc5b8\ud55c \ub450\uac00\uc9c0 Context \ub4e4\uc758 Provider \ub85c \uac10\uc2f8\uc8fc\ub294 \ucef4\ud3ec\ub10c\ud2b8\nexport function UsersProvider({ children }) {\n  const [state, dispatch] = useReducer(usersReducer, initialState);\n  return (\n    <UsersStateContext.Provider value={state}>\n      <UsersDispatchContext.Provider value={dispatch}>\n        {children}\n      </UsersDispatchContext.Provider>\n    </UsersStateContext.Provider>\n  );\n}\n\n// State \ub97c \uc27d\uac8c \uc870\ud68c \ud560 \uc218 \uc788\uac8c \ud574\uc8fc\ub294 \ucee4\uc2a4\ud140 Hook\nexport function useUsersState() {\n  const state = useContext(UsersStateContext);\n  if (!state) {\n    throw new Error("Cannot find UsersProvider");\n  }\n  return state;\n}\n\n// Dispatch \ub97c \uc27d\uac8c \uc0ac\uc6a9 \ud560 \uc218 \uc788\uac8c \ud574\uc8fc\ub294 \ucee4\uc2a4\ud140 Hook\nexport function useUsersDispatch() {\n  const dispatch = useContext(UsersDispatchContext);\n  if (!dispatch) {\n    throw new Error("Cannot find UsersProvider");\n  }\n  return dispatch;\n}\n')))),(0,a.kt)("ol",{start:2},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"API \ucc98\ub9ac \ud568\uc218 \ub9cc\ub4e4\uae30"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},'import React, { createContext, useReducer, useContext } from "react";\nimport axios from "axios";\n\nexport async function getUsers(dispatch) {\n  dispatch({ type: "GET_USERS" });\n  try {\n    const response = await axios.get(\n      "https://jsonplaceholder.typicode.com/users"\n    );\n    dispatch({ type: "GET_USERS_SUCCESS", data: response.data });\n  } catch (e) {\n    dispatch({ type: "GET_USERS_ERROR", error: e });\n  }\n}\n\nexport async function getUser(dispatch, id) {\n  dispatch({ type: "GET_USER" });\n  try {\n    const response = await axios.get(\n      `https://jsonplaceholder.typicode.com/users/${id}`\n    );\n    dispatch({ type: "GET_USER_SUCCESS", data: response.data });\n  } catch (e) {\n    dispatch({ type: "GET_USER_ERROR", error: e });\n  }\n}\n')))),(0,a.kt)("ol",{start:3},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"Context \uc0ac\uc6a9\ud558\uae30!"),(0,a.kt)("pre",{parentName:"li"},(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},'import React from "react";\nimport Users from "./Users";\nimport { UsersProvider } from "./UsersContext";\n\nfunction App() {\n  return (\n    <UsersProvider>\n      <Users />\n    </UsersProvider>\n  );\n}\n\nexport default App;\n')))),(0,a.kt)("ol",{start:4},(0,a.kt)("li",{parentName:"ol"},(0,a.kt)("p",{parentName:"li"},"User\uc640 Users component"),(0,a.kt)("p",{parentName:"li"},(0,a.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/75834421/113897269-aaa30180-9805-11eb-874a-94d49c948ffb.png",alt:"image"})),(0,a.kt)("p",{parentName:"li"},"\ucc38\uace0: ",(0,a.kt)("a",{parentName:"p",href:"https://react.vlpt.us/integrate-api/05-using-with-context.html"},"https://react.vlpt.us/integrate-api/05-using-with-context.html")))),(0,a.kt)("p",null,"\u2b50 \uc774\ub807\uac8c Context\ub294 React\uc758 \uac04\ub2e8\ud55c \uc571 \ub610\ub294 API\ub85c data\ub97c \uac00\uc838\uc640\uc11c \uc0ac\uc6a9\ud560 \ub54c \uc720\uc6a9\ud569\ub2c8\ub2e4. \uc5ec\uae30\uc11c state \ub354 \ub9ce\uc544\uc9c0\uace0, \uadf8 state\ub97c \uc790\uc8fc \ubc14\uafd4\uc11c \ub300\uccb4\ud574\uc918\uc57c \ub41c\ub2e4\uba74 ",(0,a.kt)("strong",{parentName:"p"},"Redux")," \uc0ac\uc6a9\uc744 \ucd94\ucc9c!"))}u.isMDXComponent=!0}}]);