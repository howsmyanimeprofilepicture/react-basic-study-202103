# useCallbackğŸ™„

### â“ ì´ê²Œ ë­ì—ìš”?
**memoized functionì„ ë°˜í™˜** í•´ì£¼ëŠ” **hook**ì´ì—ìš”!  

**ê°’**ì´ ì•„ë‹Œ **function**ì„ ë°˜í™˜í•´ì£¼ëŠ”ê±°ì—ìš”!  

### â“ ë„¤? ì´í•´ê°€ ì•ˆë¼ìš”...
í•œë²ˆ **decalre( ì´ í•˜ 'ì„ ì–¸' )** ë˜ì—ˆë˜ í•¨ìˆ˜ë¥¼ ì¬ì°¨ **declare ì•ˆí•´ë„ ëœë‹¤**ëŠ” ê±°ì—ìš”. ^^  

**memoized!!**

### â“ ì•„! ê·¸ëŸ¼ useCallbackìœ¼ë¡œ ê°ì‹¸ì§„ í•¨ìˆ˜ëŠ” ì˜ì›íˆ ì„ ì–¸ ì•ˆí•´ì£¼ë‚˜ìš”?
ì•„ë‹™ë‹ˆë‹¤!  
dependencyì— ë„£ì–´ì¤€ ê°’ì´ ë³€ê²½ì„ í•  ì‹œì—, ì¬ì°¨ ì„ ì–¸ì„ í•´ì¤˜ìš”!!  

### â“ dependecyì— ìˆëŠ” ê°’ì´ ë³€ê²½ì€ ì–´ë–»ê²Œ ì•Œì•„ìš”?
**ì°¸ì¡° í†µì¼ì„±(Referencial equality)**ì„ ì°¸ê³ í•˜ì‹œë©´, ê°’ì˜ ë³€ê²½ì´ ì–¸ì œ ì¼ì–´ë‚˜ëŠ”ì§€ í™•ì¸ í•˜ ì‹¤ ìˆ˜ ìˆì–´ìš”!  

```bash
/* Primitive Values */
true === true // true
false === false // true
1 === 1 // true
'a' === 'a' // true

/* Reference Values */
{} === {} // false
[] === [] // false
() => {} === () => {} // false


const z = {}
z === z // true
```

### â“ ì™€! ê·¸ëŸ¼ ì»´í¬ë„ŒíŠ¸ì— ì„ ì–¸ë˜ëŠ” í•¨ìˆ˜ë“¤ì„ ë§¤ë²ˆ useCallbackìœ¼ë¡œ ê°ì‹¸ì¤˜ì•¼ê² ë„¤ìš”!  
ì•„ë‹™ë‹ˆë‹¤!!  

ê°€ë²¼ìš´ í•¨ìˆ˜ë“¤ì€ ì ìš©ì„ ì•ˆí•´ë„ ë©ë‹ˆë‹¤.  

ìµœì í™”ë¥¼ í• ë ¤ë‹¤, ìµœì í™”ê°€ ë˜ì§€ ì•Šì€ ê²°ê³¼ê°€ ë‚˜ì˜¤ê¸° ë–„ë¬¸ì…ë‹ˆë‹¤.  

### â“ ì˜ˆ? ìµœì í™”ë¥¼ ìœ„í•œ ì½”ë“œì¸ë°, ë˜ë ¤ ìµœì í™”ê°€ ì•ˆëœë‹¤ëŠ”ê²Œ ë¬´ìŠ¨ ğŸ¶ì†Œë¦¬ì—ìš”?
ìµœì í™”ë¼ëŠ”ê±´ ê²°êµ­ trade-off(ë“±ê°€êµí™˜)ì—ìš”.  

> Every line of code which is executed comes with a cost.

ëŒ€ê°€ ì—†ëŠ” ì½”ë“œëŠ” ì—†ì–´ìš”!  

```bash
// #1
const hello = () => {}


// #2
const hello = useCallback(() => {}, [])

```

ì²«ë²ˆ ì¨° ì½”ë“œì™€ ë‘ë²ˆ ì§¸ ì½”ë“œë¥¼ ì„±ëŠ¥ì„ ë¹„êµí•˜ë©´ ì–´ë–¤ê²Œ ë” ì¢‹ì„ê¹Œìš”?  

### â“ 2 ..2 ... 2ë²ˆì´ìš”! useCallback í•¨ìˆ˜ë¡œ ìµœì í™”ë¥¼ í–ˆì–ì•„ìš”!!

1ë²ˆ ì…ë‹ˆë‹¤. ğŸ¤¦â€â™‚ï¸  

ì´í•´í•˜ê¸° ì‰½ë„ë¡, 2ë²ˆì„ í’€ì–´ë³´ë©´  
```bash
// refactored #2
const hello = () => {}

const helloCallback = useCallback(hello, []);
```

helloë„ ì„ ì–¸ í•´ì¤˜ì•¼ ë˜ë©´ì„œ, ğŸ¤¦â€â™‚ï¸  
useCallback í•¨ìˆ˜ì˜ property ì„¸íŒ…ê³¼ ì•ˆì— ê¸°íƒ€ ë¡œì§ë„ ëŒì•„ê°€ê³ ... ğŸ¤¦â€â™‚ï¸  
dependencyë¥¼ ì¡ì•„ì£¼ëŠ” `[]` ë°°ì—´ì•ˆì—ë„ ë¬´ì—‡ì´ ë“¤ì–´ê°€ìˆëŠ”ì§€ë„ í™•ì¸í•´ì•¼ ë˜ë„¤ìš”....ğŸ¤¦â€â™‚ï¸  

### â“ ê·¸ëŸ¬ë„¤ìš”. ìµœì í™”ë¥¼ í• ë ¤, ì‚¬ìš©í–ˆì§€ë§Œ ë˜ë ¤, ì¼ì´ ë” ì¶”ê°€ ë¬ë„¤ìš”... 

(TMI)  

ë”êµ°ë‹¤ë‚˜, 1ë²ˆ ì½”ë“œì˜ hello í•¨ìˆ˜ëŠ” garbage collectedê°€ ë˜ëŠ” ë°˜ë©´!  

2ë²ˆ ì½”ë“œì•ˆì— hello í•¨ìˆ˜ëŠ” garbage collectedê°€ ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.  

â€» garbage collectedê°€ ë¬´ì—‡ì¸ì§€ ê¶ê¸ˆí•˜ì‹œë©´ í•˜ë‹¨ ì¶œì²˜ë¥¼ ì°¸ê³ í•´ì£¼ì„¸ìš”.  

### â“ ã…ã…... ğŸ¤ªğŸ¤ªğŸ¤ªğŸ¤ª

ë‹¤ì‹œ ì›ì ìœ¼ë¡œ ëŒì•„ê°€ì„œ,  
> "ì»´í¬ë„ŒíŠ¸ì— ì„ ì–¸ë˜ëŠ” í•¨ìˆ˜ë“¤ì„ ë§¤ë²ˆ useCallbackìœ¼ë¡œ ê°ì‹¸ì¤˜ì•¼ê² ë„¤ìš”!"  

NO NO NO  


ê°„ë‹¨í•œ ì‘ì—…ì¡°ì°¨ ìµœì í™”ë¥¼ ì§„í–‰í•˜ë©´,  
ë©”ëª¨ë¦¬ì— ë” ë¬´ë¦¬ë¥¼ ì£¼ëŠ” í–‰ë™ìœ¼ë¡œ ì´ì–´ì§‘ë‹ˆë‹¤.  

**"ê³¼ìœ ë¶ˆê¸‰"**  

ë¬¼ë¡ ,  
ë¸Œë¼ìš°ì €ëŠ” ë˜‘ë˜‘í•˜ê³ ,  
ë¦¬ì•¡íŠ¸ë„ ë˜‘ë˜‘í•˜ê¸°ì—,  
ìœ„ì— ì–¸ê¸‰í•œ ì‚¬ì†Œí•œ ì¼€ì´ìŠ¤ëŠ” ë³„ ë‹¤ë¥¸ impactë¥¼ ì£¼ì§€ ì•Šì•„ìš”.  

### â“ ì˜¤.... ê·¸ë˜ì„œ useCallbackì„ ì–¸ì œ ì‚¬ìš©í•˜ë©´ ë˜ë‚˜ìš”? (ì ì  ë” ë¯¸ê¶ìœ¼ë¡œ...)

í¬ê²Œ, ë‘ê°œì˜ ì¤‘ì ìœ¼ë¡œ ë³´ì‹œë©´ ë©ë‹ˆë‹¤.  

1. ì°¸ì¡° í†µì¼ì„±ì„ í•˜ê³  ì‹¶ì„ ë•Œ  
2. ê³„ì‚° ë¹„ìš©ì´ ë¹„ì‹¼ ë“œëŠ” í˜¹ì€ ë³µì¡í•œ ë¡œì§ì´ ìˆì„ ë•Œ  

### â“ ì™€!! ê·¸ëŸ¼ ì´ì œ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ë§Œ ì•Œë©´ ë˜ê² ì–´ìš”. ğŸ¤—  

ì˜¤ëŠ˜ ì¤€ë¹„í•œ ì½”ë“œë¶€í„° ë³´ì‹œì£ .  

[ìƒŒë“œë°•ìŠ¤ ë§í¬](https://codesandbox.io/s/usecallback-zuuwh?file=/src/App.js)

**(ë¼ì´ë¸Œ ì½”ë”© ì„¤ëª… ì§„í–‰)**


See Also:
- [useCallback ê³µì‹ë¬¸ì„œ](https://reactjs.org/docs/hooks-reference.html#usecallback) 
- [When to use useMemo and useCallback](https://kentcdodds.com/blog/usememo-and-usecallback)
- [Understanding useCallback in react](https://dev.to/ilizette/understanding-usecallback-in-react-5d34)
- [All Things Memory in Javascript (Garbage Collector)](https://youtu.be/AeUCN2lPqL8)
- [Javascript Data types](https://developer.mozilla.org/en-US/docs/Web/JavaScript/Data_structures#objects)
- [Reference Type](https://javascript.info/reference-type)