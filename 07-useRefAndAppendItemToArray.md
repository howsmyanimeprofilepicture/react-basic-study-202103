

# 1.9 useRefë¡œ ì»´í¬ë„ŒíŠ¸ ì•ˆì˜ ë³€ìˆ˜ ë§Œë“¤ê¸° 

ì•ì„œ ê³µë¶€í•œ useRefì˜ ìš©ë„ë¡œëŠ” ì»´í¬ë„ŒíŠ¸ì—ì„œ íŠ¹ì • DOMì„ ì„ íƒí•˜ëŠ” ê²ƒ ë§ê³ ë„ <u>**ë‹¤ë¥¸ ìš©ë„**</u>ê°€ ìˆìŠµë‹ˆë‹¤.

ë°”ë¡œ <u>ì»´í¬ë„ŒíŠ¸ì•ˆì—ì„œ ì¡°íšŒ ë° ìˆ˜ì •í•  ìˆ˜ ìˆëŠ” **ë³€ìˆ˜**ë¥¼ ê´€ë¦¬í•˜ëŠ” ê²ƒ</u>ì…ë‹ˆë‹¤. 

> (state í˜¹ì€ ìƒíƒœë¼ê³  í‘œí˜„í•˜ì§€ ì•Šê³  ë³€ìˆ˜ë¼ê³  í‘œí˜„í•œ ì´ìœ ëŠ” ì¡°ê¸ˆ ì•„ë˜ì„œ ë‹¤ë¤„ë³´ê² ìŠµë‹ˆë‹¤!)



<br>
<br>

![image](https://user-images.githubusercontent.com/75282888/112091516-e8364680-8bd8-11eb-8f08-95256bbdcb23.png)

### 1. ê·¸ëƒ¥ ë³€ìˆ˜ë¥¼ ì“°ë©´ ì•ˆ ë¼?ğŸ¤”

   ì»´í¬ë„ŒíŠ¸ ì•ˆì—ì„œ constë‚˜ let ë“±ìœ¼ë¡œ ìƒì„±ë˜ëŠ” 'ì¼ë°˜ì ì¸' ë³€ìˆ˜ëŠ” <u>ë¦¬ì•¡íŠ¸ê°€ ë Œë”ë§ ë  ë•Œë§ˆë‹¤ **ì´ˆê¸°ê°’ìœ¼ë¡œ** ëŒì•„ê°‘ë‹ˆë‹¤.</u> ë³€ìˆ˜ê°’ì„ ë³€ê²½í•˜ë”ë¼ë„ ê·¸ ê°’ì„ UIìƒìœ¼ë¡œ í‘œí˜„í•˜ê¸° ìœ„í•´ ëœë”ë§í•˜ë©´ ê·¸ ìˆœê°„ ë³€ìˆ˜ê°’ì€ ì´ˆê¸°í™”ë˜ì–´ ë²„ë¦¬ëŠ” ê²ƒì…ë‹ˆë‹¤. useRefë¡œ ìƒì„±í•œ ë³€ìˆ˜ëŠ” ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ ë˜ì–´ë„ ê·¸ ê°’ì´ ì´ˆê¸°í™”ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤.

   


<br>

### 2. ê·¸ëŸ¼ ê·¸ëƒ¥ useStateë¥¼ ì¨ë„ ë˜ëŠ” ê±° ì•„ë‹ˆì•¼?ğŸ¤”

  ì•ì„œ useStateë¥¼ í†µí•´ ìƒì„±í•œ ê°’ì€ ìƒíƒœ í˜¹ì€ Stateë¼ê³  í•˜ëŠ” ë°˜ë©´ ì™œ useRefë¡œ ìƒì„±í•œ ê°’ì€ ë³€ìˆ˜ë¼ê³  í•˜ëŠ” ê±¸ê¹Œìš”? ì´ ë‘˜ì˜ ì°¨ì´ëŠ” ë°”ë¡œ ì»´í¬ë„ŒíŠ¸ì˜ ë Œë”ë§ ì—¬ë¶€ì…ë‹ˆë‹¤. useStateì˜ ê²½ìš°, setStateë¥¼ í†µí•´ í•´ë‹¹ Stateê°’ì„ ê°±ì‹ í•˜ë©´, ì»´í¬ë„ŒíŠ¸ ì „ì²´ê°€ ë‹¤ì‹œ ë Œë”ë§ ë©ë‹ˆë‹¤. ë°˜ë©´ <u>useRefëŠ” í•´ë‹¹ ë³€ìˆ˜ê°’ì„ ë°”ê¿”ë„ **ì»´í¬ë„ŒíŠ¸ê°€ ë¦¬ë Œë”ë§ë˜ì§€ ì•ŠìŠµë‹ˆë‹¤**.</u>  




<br>
<br>
<br>


# 1.10. ë°°ì—´ì— í•­ëª© ì¶”ê°€í•˜ê¸°

![img](https://i.imgur.com/vF7iAbP.png)

> ì´ë²ˆì—ëŠ” ë°°ì—´ì— í•­ëª©ì„ ì¶”ê°€í•˜ëŠ” ê¸°ëŠ¥ì„ êµ¬í˜„í•´ë³´ê² ìŠµë‹ˆë‹¤ ğŸ˜Š
>
> Appì»´í¼ë„ŒíŠ¸ì— onCreateí•¨ìˆ˜ë¥¼ êµ¬í˜„í•˜ê³ , Propsë¥¼ í†µí•´ CreateUserì»´í¼ë„ŒíŠ¸ì—
>
> í•´ë‹¹í•¨ìˆ˜ë¥¼ ì „ë‹¬í•˜ê³ ì í•©ë‹ˆë‹¤:D
>
> ë˜í•œ ì•ì„œ ê³µë¶€í•œ useRef()ë¥¼ í†µí•´ ì»´í¼ë„ŒíŠ¸ ì•ˆì—ì„œ ê´€ë¦¬ë˜ëŠ” idë³€ìˆ˜ë¥¼ ë§Œë“¤ì–´ë³´ê³ ì í•©ë‹ˆë‹¤:)

<br>
<br>
<br>
<br>

>  ### ğŸ“‚/src/App.js

```jsx
import React, { useRef, useState } from 'react';
import UserList from './UserList';
import CreateUser from './CreateUser';

function App() {
  const [inputs, setInputs] = useState({
    username: '',
    email: ''
  });
  const { username, email } = inputs;
  const onChange = e => {
    const { name, value } = e.target;
    setInputs({
      ...inputs,
      [name]: value
    });
  };
  const [users, setUsers] = useState([
    {
      id: 1,
      username: 'velopert',
      email: 'public.velopert@gmail.com'
    },
    {
      id: 2,
      username: 'tester',
      email: 'tester@example.com'
    },
    {
      id: 3,
      username: 'liz',
      email: 'liz@example.com'
    }
  ]);

  const nextId = useRef(4);
    //ğŸˆì—¬ê¸°ê°€ ì¤‘ìš”í•œ ë¶€ë¶„! useRefë¥¼ í†µí•´ì„œ ì»´í¼ë„ŒíŠ¸ ì•ˆì—ì„œ ë³€ìˆ˜ë¥¼ ìƒì„±í•˜ê³  ìˆìŒ...
    //ğŸˆuseRefì— ì¸ìë¡œ ì „ë‹¬ëœ 4ëŠ” nextId.currentì˜ ê¸°ë³¸ê°’ì´ ë¨.
    //ğŸˆnextId.currentë¥¼ ë³€ìˆ˜ì²˜ëŸ¼ ì‚¬ìš©í•˜ë©´ ë¨.
    //ğŸˆnextId.currentì˜ ê°’ì„ ë³€ê²½í•´ë„ ì»´í¼ë„ŒíŠ¸ì˜ ë¦¬ë Œë”ë§ì€ ì¼ì–´ë‚˜ì§€ ì•ŠìŒ. (stateì™€ì˜ ì°¨ì´ì )
    //ğŸˆë‹¤ë¥¸ ì´ìœ ì— ì˜í•´ ë¦¬ë Œë”ë§ì´ ì¼ì–´ë‚˜ë„ nextId.currentì˜ ê°’ì€ ì¼ë°˜ë³€ìˆ˜(const, let)ì²˜ëŸ¼ ì´ˆê¸°í™”ë˜ì§€ë„ ì•ŠìŒ.
    
  const onCreate = () => { //ğŸˆ onCreateí•¨ìˆ˜ë¥¼ í†µí•´ ë°°ì—´ì— í•­ëª©ì„ ì¶”ê°€í•  ê²ƒì„.
    const user = {//ğŸˆ userë³€ìˆ˜ëŠ” usersë°°ì—´ì— ìƒˆë¡œ ì¶”ê°€í•  ê°ì²´
      id: nextId.current, //ğŸˆ user.idëŠ” next.currentê°€ ì „ë‹¬ë¨.
      username,
      email
    };
    setUsers(users.concat(user)); 
      //ğŸˆ concatë©”ì„œë“œëŠ” í†µí•´ ê¸°ì¡´ usersì— ì•ì„œ ì„ ì–¸ëœ userê°ì²´ê°€ ë”í•´ì§„ 'ìƒˆë¡œìš´ ê°ì²´'ë¥¼ ë°˜í™˜í•¨. 
      //ğŸˆ pushë©”ì„œë“œì™€ì˜ ì°¨ì´ì¸ë° ì•„ì£¼ ì¤‘ìš”í•¨!
      //ğŸˆ concatë©”ì„œë“œê°€ ìµìˆ™í•˜ì§€ ì•Šë‹¤ë©´ [...users, user]ë¥¼ ì „ë‹¬í•  ìˆ˜ë„ ìˆìŒ! (spreadì—°ì‚°ì)

    setInputs({
      username: '',
      email: ''
    }); //ğŸˆ ë°°ì—´ì— ìƒˆë¡œìš´ í•­ëª©ì„ ì¶”ê°€ê°€ ì™„ë£Œë˜ì—ˆìœ¼ë‹ˆ ì…ë ¥ì°½ì„ ë¹„ì›Œì¤˜ì•¼ í•¨!
    nextId.current += 1; ğŸˆê·¸ë¦¬ê³  nextId.currentê°’ì—ëŠ” 1ì„ ë”í•´ì¤Œ!
  };
  return (
    <>
      <CreateUser
        username={username}
        email={email}
        onChange={onChange}
        onCreate={onCreate} //ğŸˆonCreateí•¨ìˆ˜ëŠ” propsë¡œì„œ CreateUserì»´í¼ë„ŒíŠ¸ë¡œ ì „ë‹¬ë¨!
      />
      <UserList users={users} />
    </>
  );
}

export default App;
```


>  ### ğŸ“‚/src/CreateUser.js
```jsx
import React from 'react';

function CreateUser({ username, email, onChange, onCreate }) {
  return (
    <div>
      <input
        name="username"
        placeholder="ê³„ì •ëª…"
        onChange={onChange}
        value={username}
      />
      <input
        name="email"
        placeholder="ì´ë©”ì¼"
        onChange={onChange}
        value={email}
      />
      <button onClick={onCreate}>ë“±ë¡</button> {/*ğŸˆApp ì»´í¼ë„ŒíŠ¸ë¡œë¶€í„° onCreateê°€ ì „ë‹¬ë¨*/}
    </div>
  );
}

export default CreateUser;

```


>  ### ğŸ“‚/src/UserList.js
```jsx

import React from 'react';

function User({ user }) {
  return (
    <div>
      <b>{user.username}</b> <span>({user.email})</span>
    </div>
  );
}

function UserList({ users }) {
  return (
    <div>
      {users.map(user => (
        <User user={user} key={user.id} /> {/*ğŸˆë°°ì—´ì„ ë Œë”ë§ í•  ë• ë°°ì—´ì•ˆì˜ ì»´í¼ë„ŒíŠ¸ì— keyë¼ëŠ” propsë¥¼ ë„£ì–´ì¤˜ì•¼í•¨*/}
      ))}
    </div>
  );
}

export default UserList;
```
<br>
<br>
<br>
<br>

# 1.11. ë°°ì—´ì— í•­ëª© ì œê±°í•˜ê¸°

> ë°°ì—´ì— í•­ëª©ì„ ì œê±°í•˜ëŠ” ê¸°ëŠ¥ì„ ë§Œë“¤ì–´ ë³´ê² ìŠµë‹ˆë‹¤!
>
> Appì»´í¼ë„ŒíŠ¸ì— onRemoveí•¨ìˆ˜ë¥¼ êµ¬í˜„í•˜ê³ , Propsë¥¼ í†µí•´ Userì»´í¼ë„ŒíŠ¸ë¡œ ì „ë‹¬í•˜ê² ìŠµë‹ˆë‹¤!

![img](https://i.imgur.com/FmnSHXf.png)

>  ### ğŸ“‚src/UserList.js
```jsx
import React from 'react';

function User({ user, onRemove }) { //ğŸˆonRemoveê°€ Appì»´í¼ë„ŒíŠ¸ë¡œë¶€í„° ì „ë‹¬ë¨...
  return (
    <div>
      <b>{user.username}</b> <span>({user.email})</span>
      <button onClick={() => onRemove(user.id)}>ì‚­ì œ</button> 
          {/*ğŸˆonRomoveí•¨ìˆ˜ê°€ ë‹´ê¸´ ì‚­ì œë²„íŠ¼ì„ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤*/}
    </div>
  );
}

function UserList({ users, onRemove }) {
  return (
    <div>
      {users.map(user => (
        <User user={user} key={user.id} onRemove={onRemove} /> {/* onRemoveí•¨ìˆ˜ë¥¼ Userë¡œ ì „ë‹¬ */}
      ))}
    </div>
  );
}

export default UserList;
```

>  ### ğŸ“‚src/App.js
```jsx

import React, { useRef, useState } from 'react';
import UserList from './UserList';
import CreateUser from './CreateUser';

function App() {
  const [inputs, setInputs] = useState({
    username: '',
    email: ''
  });
  const { username, email } = inputs;
  const onChange = e => {
    const { name, value } = e.target;
    setInputs({
      ...inputs,
      [name]: value
    });
  };
  const [users, setUsers] = useState([
    {
      id: 1,
      username: 'velopert',
      email: 'public.velopert@gmail.com'
    },
    {
      id: 2,
      username: 'tester',
      email: 'tester@example.com'
    },
    {
      id: 3,
      username: 'liz',
      email: 'liz@example.com'
    }
  ]);

  const nextId = useRef(4);
  const onCreate = () => {
    const user = {
      id: nextId.current,
      username,
      email
    };
    setUsers(users.concat(user));

    setInputs({
      username: '',
      email: ''
    });
    nextId.current += 1;
  };
//ğŸ˜˜onRemove() í•¨ìˆ˜ë¥¼ í†µí•´ ë°°ì—´ì˜ í•­ëª©ì„ ì œê±°í•©ë‹ˆë‹¤!
  const onRemove = id => {
    // user.id ê°€ íŒŒë¼ë¯¸í„°ë¡œ ì¼ì¹˜í•˜ì§€ ì•ŠëŠ” ì›ì†Œë§Œ ì¶”ì¶œí•´ì„œ ìƒˆë¡œìš´ ë°°ì—´ì„ ë§Œë“¬
    // = user.id ê°€ id ì¸ ê²ƒì„ ì œê±°í•¨
    setUsers(users.filter(user => user.id !== id));
  };
  return (
    <>
      <CreateUser
        username={username}
        email={email}
        onChange={onChange}
        onCreate={onCreate}
      />
      <UserList users={users} onRemove={onRemove} />
    </>
  );
}

export default App;
```

<br>
<br>
<br>
<br>


# 1.12. ë°°ì—´ í•­ëª© ìˆ˜ì •í•˜ê¸°

>  ì´ë²ˆì—ëŠ” usernameì„ ëˆŒë €ì„ ë•Œ ìƒ‰ì´ ë°”ë€ŒëŠ” toggleê¸°ëŠ¥ì„ êµ¬í˜„í•´ë³´ê² ìŠµë‹ˆë‹¤!

![img](https://i.imgur.com/jbBMq3J.png)

> ğŸ˜˜ë¨¼ì € Appì»´í¼ë„ŒíŠ¸ì— onToggleí•¨ìˆ˜ë¥¼ êµ¬í˜„í•˜ê³ , Propsë¥¼ í†µí•´ Userì»´í¼ë„ŒíŠ¸ì— í•´ë‹¹ í•¨ìˆ˜ë¥¼ ì „ë‹¬í•˜ê² ìŠµë‹ˆë‹¤!



>  ### ğŸ“‚src/App.js
```jsx
import React, { useRef, useState } from 'react';
import UserList from './UserList';
import CreateUser from './CreateUser';

function App() {
  const [inputs, setInputs] = useState({
    username: '',
    email: ''
  });
  const { username, email } = inputs;
  const onChange = e => {
    const { name, value } = e.target;
    setInputs({
      ...inputs,
      [name]: value
    });
  };
  const [users, setUsers] = useState([
    {
      id: 1,
      username: 'velopert',
      email: 'public.velopert@gmail.com',
      active: true
    },
    {
      id: 2,
      username: 'tester',
      email: 'tester@example.com',
      active: false
    },
    {
      id: 3,
      username: 'liz',
      email: 'liz@example.com',
      active: false
    }
  ]);

  const nextId = useRef(4);
  const onCreate = () => {
    const user = {
      id: nextId.current,
      username,
      email
    };
    setUsers(users.concat(user));

    setInputs({
      username: '',
      email: ''
    });
    nextId.current += 1;
  };

  const onRemove = id => {
    setUsers(users.filter(user => user.id !== id));
  };
    
    //ğŸ˜˜ì•„ë˜ì™€ ê°™ì´ onToggleí•¨ìˆ˜ë¥¼ ì¶”ê°€í•˜ê³ , UserListì»´í¬ë„ŒíŠ¸ë¥¼í†µí•´ Userì»´í¼ë„ŒíŠ¸ë¡œ ì „ë‹¬í•©ë‹ˆë‹¤.
  const onToggle = id => {
    setUsers(
      users.map(user =>
        user.id === id ? { ...user, active: !user.active } : user
      )
    );
  };
  return (
    <>
      <CreateUser
        username={username}
        email={email}
        onChange={onChange}
        onCreate={onCreate}
      />
      <UserList users={users} onRemove={onRemove} onToggle={onToggle} />
    </>
  );
}

export default App;
```


>  ### ğŸ“‚src/UserList.js
```jsx

import React from 'react';

function User({ user, onRemove, onToggle }) {
  return (
    <div>
      <b
        style={{
          cursor: 'pointer',
          color: user.active ? 'green' : 'black'
        }}
        onClick={() => onToggle(user.id)}
      >
        {user.username}
      </b>
      &nbsp;
      <span>({user.email})</span>
      <button onClick={() => onRemove(user.id)}>ì‚­ì œ</button>
    </div>
  );
}

function UserList({ users, onRemove, onToggle }) {
  return (
    <div>
      {users.map(user => (
        <User
          user={user}
          key={user.id}
          onRemove={onRemove}
          onToggle={onToggle}
        />
      ))}
    </div>
  );
}

export default UserList;

```







