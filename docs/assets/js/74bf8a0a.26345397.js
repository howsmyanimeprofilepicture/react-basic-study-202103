"use strict";(self.webpackChunksrc=self.webpackChunksrc||[]).push([[5261],{3905:(e,n,t)=>{t.d(n,{Zo:()=>l,kt:()=>m});var r=t(7294);function a(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function s(e,n){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);n&&(r=r.filter((function(n){return Object.getOwnPropertyDescriptor(e,n).enumerable}))),t.push.apply(t,r)}return t}function o(e){for(var n=1;n<arguments.length;n++){var t=null!=arguments[n]?arguments[n]:{};n%2?s(Object(t),!0).forEach((function(n){a(e,n,t[n])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):s(Object(t)).forEach((function(n){Object.defineProperty(e,n,Object.getOwnPropertyDescriptor(t,n))}))}return e}function c(e,n){if(null==e)return{};var t,r,a=function(e,n){if(null==e)return{};var t,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||(a[t]=e[t]);return a}(e,n);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)t=s[r],n.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(a[t]=e[t])}return a}var i=r.createContext({}),u=function(e){var n=r.useContext(i),t=n;return e&&(t="function"==typeof e?e(n):o(o({},n),e)),t},l=function(e){var n=u(e.components);return r.createElement(i.Provider,{value:n},e.children)},p={inlineCode:"code",wrapper:function(e){var n=e.children;return r.createElement(r.Fragment,{},n)}},d=r.forwardRef((function(e,n){var t=e.components,a=e.mdxType,s=e.originalType,i=e.parentName,l=c(e,["components","mdxType","originalType","parentName"]),d=u(t),m=a,f=d["".concat(i,".").concat(m)]||d[m]||p[m]||s;return t?r.createElement(f,o(o({ref:n},l),{},{components:t})):r.createElement(f,o({ref:n},l))}));function m(e,n){var t=arguments,a=n&&n.mdxType;if("string"==typeof e||a){var s=t.length,o=new Array(s);o[0]=d;var c={};for(var i in n)hasOwnProperty.call(n,i)&&(c[i]=n[i]);c.originalType=e,c.mdxType="string"==typeof e?e:a,o[1]=c;for(var u=2;u<s;u++)o[u]=t[u];return r.createElement.apply(null,o)}return r.createElement.apply(null,t)}d.displayName="MDXCreateElement"},7533:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>i,contentTitle:()=>o,default:()=>p,frontMatter:()=>s,metadata:()=>c,toc:()=>u});var r=t(7462),a=(t(7294),t(3905));const s={sidebar_position:34},o=void 0,c={unversionedId:"useAsync-\ucee4\uc2a4\ud140-hook-\ub9cc\ub4e4\uc5b4\uc11c-\uc0ac\uc6a9\ud558\uae30",id:"useAsync-\ucee4\uc2a4\ud140-hook-\ub9cc\ub4e4\uc5b4\uc11c-\uc0ac\uc6a9\ud558\uae30",title:"useAsync-\ucee4\uc2a4\ud140-hook-\ub9cc\ub4e4\uc5b4\uc11c-\uc0ac\uc6a9\ud558\uae30",description:"Axios\uc774\ud574\ud558\uae30",source:"@site/docs\\26-useAsync-\ucee4\uc2a4\ud140-hook-\ub9cc\ub4e4\uc5b4\uc11c-\uc0ac\uc6a9\ud558\uae30.md",sourceDirName:".",slug:"/useAsync-\ucee4\uc2a4\ud140-hook-\ub9cc\ub4e4\uc5b4\uc11c-\uc0ac\uc6a9\ud558\uae30",permalink:"/react-basic-study-202103/docs/useAsync-\ucee4\uc2a4\ud140-hook-\ub9cc\ub4e4\uc5b4\uc11c-\uc0ac\uc6a9\ud558\uae30",draft:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/26-useAsync-\ucee4\uc2a4\ud140-hook-\ub9cc\ub4e4\uc5b4\uc11c-\uc0ac\uc6a9\ud558\uae30.md",tags:[],version:"current",sidebarPosition:34,frontMatter:{sidebar_position:34},sidebar:"tutorialSidebar",previous:{title:"useAsync",permalink:"/react-basic-study-202103/docs/useAsync--by-Tak-"},next:{title:"React-async",permalink:"/react-basic-study-202103/docs/react-async"}},i={},u=[{value:"Axios\uc774\ud574\ud558\uae30",id:"axios\uc774\ud574\ud558\uae30",level:3},{value:"\ucee4\uc2a4\ud140 \ud6c5 useAsync\ub9cc\ub4e4\uae30",id:"\ucee4\uc2a4\ud140-\ud6c5-useasync\ub9cc\ub4e4\uae30",level:3},{value:"useAsync\ub97c \ud65c\uc6a9\ud574\uc11c API \uc694\uccad\ud558\uae30",id:"useasync\ub97c-\ud65c\uc6a9\ud574\uc11c-api-\uc694\uccad\ud558\uae30",level:3}],l={toc:u};function p(e){let{components:n,...t}=e;return(0,a.kt)("wrapper",(0,r.Z)({},l,t,{components:n,mdxType:"MDXLayout"}),(0,a.kt)("h3",{id:"axios\uc774\ud574\ud558\uae30"},"Axios\uc774\ud574\ud558\uae30"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"npm i axios")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"import axios from 'axios';\n\naxios({\n  url: '/user/12345',\n  method: 'put',\n  data: {\n    firstName: 'Fred',\n    lastName: 'Flintstone'\n  }\n});\n\naxios.put('/user/12345', {\n  firstName: 'Fred',\n  lastName: 'Flintstone'\n})\n\n//\uc704 \ub458\uc740 \uadfc\ubcf8\uc801\uc73c\ub85c \uac19\uc740 \ub0b4\uc6a9\n\n")),(0,a.kt)("ol",null,(0,a.kt)("li",{parentName:"ol"},"Axios\ub294 \uc11c\ubc84 \uc694\uccad\uc744 \uc704\ud55c \ub77c\uc774\ube0c\ub7ec\ub9ac."),(0,a.kt)("li",{parentName:"ol"},"url, method \ub4f1\uc744 \uac1d\uccb4\uc5d0 \ub2f4\uc544 axios\ud568\uc218\uc758 \uc778\uc790\ub85c \uc804\ub2ec.")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"import axios from 'axios';\n\naxios({\n  url: '/user/12345',\n  method: 'get',\n}) //\ud83d\udc95axios()\ub294 \ud504\ub85c\ubbf8\uc2a4\ub97c \ubc18\ud658\ud558\ub294 \ube44\ub3d9\uae30\ud568\uc218 .then\uc774\ub098 async, await \ub4f1\uc73c\ub85c \uc774\uc5b4 \uac08 \uc218 \uc788\uc74c\n  .then((response) => {\n    consol.log(response.data);\n}) //\ud83d\udc95\uc694\uccad\uc5d0 \ub300\ud55c \uc751\ub2f5\uc758 \ub0b4\uc6a9\uc740 .data \ud504\ub85c\ud37c\ud2f0\uc5d0 \ub2f4\uae40.\n")),(0,a.kt)("p",null,(0,a.kt)("img",{parentName:"p",src:"https://user-images.githubusercontent.com/75282888/114001115-98bd6f00-9896-11eb-8fcc-a2cd6352f0ba.png",alt:"image"})),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-javascript"},"import axios from 'axios';\naxios({\n  method: \"get\",\n  url : \"http://opentutorials.org:3000/main?id=HTML&page=12\",\n});\n//\ud83d\udc95\uc704\uc640 \uc544\ub798\ub294 \uadfc\ubcf8\uc801\uc73c\ub85c \uac19\uc740 \ubaa8\uc591\naxios({\n    method: 'get',\n    url:\"http://opentutorials.org:3000/main\",\n    params : {\n        id: 'HTML',\n        page: 12,\n    },\n});\n\n\n")),(0,a.kt)("p",null,"\uc0c1\ub2f9\ud788 \uc798 \uc815\ub9ac\ub41c \uacf3\uc774 \uc788\uc5b4 \ub0a8\uaca8\ubcf4\uaca0\uc74c!"),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://xn--xy1bk56a.run/axios/guide/api.html#http-%EB%A9%94%EC%84%9C%EB%93%9C-%EB%B3%84%EC%B9%AD"},"https://xn--xy1bk56a.run/axios/guide/api.html#http-%EB%A9%94%EC%84%9C%EB%93%9C-%EB%B3%84%EC%B9%AD")),(0,a.kt)("p",null,(0,a.kt)("a",{parentName:"p",href:"https://developer.mozilla.org/ko/docs/Web/HTTP/Methods/GET"},"https://developer.mozilla.org/ko/docs/Web/HTTP/Methods/GET")),(0,a.kt)("h3",{id:"\ucee4\uc2a4\ud140-\ud6c5-useasync\ub9cc\ub4e4\uae30"},"\ucee4\uc2a4\ud140 \ud6c5 useAsync\ub9cc\ub4e4\uae30"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"},"\ud83d\udcc2/useAsync.js")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},"import { useReducer, useEffect } from 'react';\n\nfunction reducer(state, action) {\n  switch (action.type) {\n    case 'LOADING':\n      return {\n        loading: true,\n        data: null,\n        error: null\n      };\n    case 'SUCCESS':\n      return {\n        loading: false,\n        data: action.data,\n        error: null\n      };\n    case 'ERROR':\n      return {\n        loading: false,\n        data: null,\n        error: action.error\n      };\n    default:\n      throw new Error(`Unhandled action type: ${action.type}`);\n  }\n} //\ud83d\ude02 LOADING/ SUCCESS / ERROR\ub77c\ub294 3\ub2e8\uacc4\ub85c \uc561\uc158\uc744 \uad6c\ubd84\ud558\uace0 \uadf8 \uc0c1\ud669\uc5d0 \ub530\ub77c State\ub97c \ubcc0\uacbd\ud568.\n// \n\nfunction useAsync(callback, deps = [], skip = false) {\n  const [state, dispatch] = useReducer(reducer, {\n    loading: false, //\ub85c\ub529 \uc5ec\ubd80,\n    data: null, // API\ub97c \ud1b5\ud574 \uc6b0\ub9ac\uac00 \ubc1b\uc744 \ub370\uc774\ud130 // API\ub294 \ubcf4\ud1b5 JSON\ud615\ud0dc\ub85c \uc815\ubcf4\ub97c \uc8fc\uace0 \ubc1b\uc74c!,\n    error: false // \uc5d0\ub7ec \uc5ec\ubd80,\n  }); // useReducer \ud638\ucd9c\n\n  const fetchData = async () => {\n    dispatch({ type: 'LOADING' });\n    try {\n      const data = await callback();// \ucf5c\ubc31\uc73c\ub85c \uc804\ub2ec\ub418\ub294 \ud568\uc218\uac00 \ubc18\ud658\ud558\ub294 \uac12\uc744 data\uc5d0 \ub2f4\uace0\n      dispatch({ type: 'SUCCESS', data });//SUCCESS\ud0c0\uc785\uc758 \uc561\uc158\uc744 \ubc1c\uc0dd\uc2dc\ud0b4 \n        //(data\ub97c \uac1d\uccb4\uc5d0 \ub3d9\ubd09) \n    } catch (error) {\n      dispatch({ type: 'ERROR', error: error });//\n    } // \uc5d0\ub7ec\uac00 \ub0a0 \uacbd\uc6b0 error\uac1d\uccb4\ub97c \ud568\uaed8 \uc804\ub2ec \n  };\n\n  useEffect(() => {\n    if (skip) return;\n    fetchData();\n    // eslint \uc124\uc815\uc744 \ub2e4\uc74c \uc904\uc5d0\uc11c\ub9cc \ube44\ud65c\uc131\ud654\n    // eslint-disable-next-line\n  }, deps);\n\n  return [state, fetchData]; //state{loading, data, error}\uc640 fetchData\ud568\uc218\ub97c \ubc18\ud658\n}\n\nexport default useAsync;\n\n")),(0,a.kt)("h3",{id:"useasync\ub97c-\ud65c\uc6a9\ud574\uc11c-api-\uc694\uccad\ud558\uae30"},"useAsync\ub97c \ud65c\uc6a9\ud574\uc11c API \uc694\uccad\ud558\uae30"),(0,a.kt)("blockquote",null,(0,a.kt)("p",{parentName:"blockquote"}," \ud83d\udcc2/Users.js")),(0,a.kt)("pre",null,(0,a.kt)("code",{parentName:"pre",className:"language-jsx"},"import React from 'react';\nimport axios from 'axios';\nimport useAsync from './useAsync';\n\n// useAsync \uc5d0\uc11c\ub294 Promise \uc758 \uacb0\uacfc\ub97c \ubc14\ub85c data \uc5d0 \ub2f4\uae30 \ub54c\ubb38\uc5d0,\n// \uc694\uccad\uc744 \ud55c \uc774\ud6c4 response \uc5d0\uc11c data \ucd94\ucd9c\ud558\uc5ec \ubc18\ud658\ud558\ub294 \ud568\uc218\ub97c \ub530\ub85c \ub9cc\ub4e4\uc5c8\uc2b5\ub2c8\ub2e4.\nasync function getUsers() {\n  const response = await axios.get(\n    'https://jsonplaceholder.typicode.com/users'\n  );\n  return response.data;\n} // axios\ub97c \ud1b5\ud574 get \uc694\uccad\uc744 \ubcf4\ub0b4\ub294 \ud568\uc218...\n\nfunction Users() {\n  const [state, refetch] = useAsync(getUsers, [], true);\n\n  const { loading, data: users, error } = state; // state.data \ub97c users \ud0a4\uc6cc\ub4dc\ub85c \uc870\ud68c\n\n  if (loading) return <div>\ub85c\ub529\uc911..</div>;\n  if (error) return <div>\uc5d0\ub7ec\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4</div>;\n  if (!users) return <button onClick={refetch}>\ubd88\ub7ec\uc624\uae30</button>;\n  return (\n    <>\n      <ul>\n        {users.map(user => (\n          <li key={user.id}>\n            {user.username} ({user.name})\n          </li>\n        ))}\n      </ul>\n      <button onClick={refetch}>\ub2e4\uc2dc \ubd88\ub7ec\uc624\uae30</button>\n    </>\n  );\n}\n\nexport default Users;\n")),(0,a.kt)("p",null,"\uc608\uc81c\ucf54\ub4dc) ",(0,a.kt)("a",{parentName:"p",href:"https://codesandbox.io/s/agitated-resonance-fuh8p"},"https://codesandbox.io/s/agitated-resonance-fuh8p")))}p.isMDXComponent=!0}}]);